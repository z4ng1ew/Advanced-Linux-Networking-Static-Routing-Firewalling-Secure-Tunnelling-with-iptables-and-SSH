## 1.1. –°–µ—Ç–∏ –∏ –º–∞—Å–∫–∏
–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –æ—Ç—á—ë—Ç:
```bash
ipcalc 192.167.38.54/13
```
![part1](./img/1.1.192.167.38.54.png)
- 192.160.0.0 - –∞–¥—Ä–µ—Å










## 1.2. –ü–µ—Ä–µ–≤–æ–¥ –º–∞—Å–∫–∏
## 1.1.2.1 –ü–µ—Ä–µ–≤–æ–¥ –º–∞—Å–∫–∏ *255.255.255.0* –≤ –ø—Ä–µ—Ñ–∏–∫—Å–Ω—É—é –∏ –¥–≤–æ–∏—á–Ω—É—é –∑–∞–ø–∏—Å—å

![part1](./img/1.2.255.255.255.0.png)
–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã `ipcalc` –¥–ª—è –º–∞—Å–∫–∏ 255.255.255.0. –ó–¥–µ—Å—å –ø–æ–∫–∞–∑–∞–Ω—ã:

- **Address:** 255.255.255.0 (IP-–∞–¥—Ä–µ—Å)
- **Netmask:** 255.255.255.0, –∫–æ—Ç–æ—Ä–∞—è –≤ –¥–≤–æ–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –∫–∞–∫ `11111111.11111111.11111111.00000000`, –∏ —ç—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å—É `/24`.
- **Network:** 255.255.255.0/24 (—Å–µ—Ç—å)
- **HostMin –∏ HostMax:** –¥–∏–∞–ø–∞–∑–æ–Ω —Ö–æ—Å—Ç–æ–≤ –≤ —ç—Ç–æ–π —Å–µ—Ç–∏, –æ—Ç 255.255.255.1 –¥–æ 255.255.255.254.
- **Broadcast:** 255.255.255.255 (–∞–¥—Ä–µ—Å —à–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏)
- **Hosts/Net:** 254 —Ö–æ—Å—Ç–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ —ç—Ç–æ–π —Å–µ—Ç–∏.

–≠—Ç–æ—Ç –≤—ã–≤–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –º–∞—Å–∫–∞ `255.255.255.0` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å—É `/24`. 

### –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã, –≤–∏–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:
- Netmask: 255.255.255.0 = 24 (—ç—Ç–æ –∏ –µ—Å—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å–Ω–∞—è –∑–∞–ø–∏—Å—å)
- –î–≤–æ–∏—á–Ω–∞—è –∑–∞–ø–∏—Å—å: 11111111.11111111.11111111.00000000





## 1.1.2.2 –ü–µ—Ä–µ–≤–æ–¥ –º–∞—Å–∫–∏ */15* –≤ –æ–±—ã—á–Ω—É—é –∏ –¥–≤–æ–∏—á–Ω—É—é
    - 255.254.0.0 - –æ–±—ã—á–Ω–∞—è
    - 11111111.11111110.00000000.00000000 - –¥–≤–æ–∏—á–Ω–∞—è

  - ![part1](./img/3.sipcalc000015.png)
  
  - ![part1](./img/3.—Å–ª–µ—à_15.png)

  - ![part1](./img/3.0.0.015.png)
 –ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ —É–∫–∞–∑–∞–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –ø–æ–ª—É—á–µ–Ω–Ω–∞—è –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã `ipcalc 0.0.0.0/15`. 

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ:**

1. **Address**: 0.0.0.0 ‚Äî –∞–¥—Ä–µ—Å —Å–µ—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –≤–≤–µ–¥–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.
2. **Netmask**: 255.254.0.0 = 15 ‚Äî –º–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏ –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∏ –≤ –ø—Ä–µ—Ñ–∏–∫—Å–Ω–æ–π –∑–∞–ø–∏—Å–∏ (/15).
3. **Wildcard**: 0.1.255.255 ‚Äî –æ–±—Ä–∞—Ç–Ω–∞—è –º–∞—Å–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö).
4. **Network**: 0.0.0.0/15 ‚Äî —Å–µ—Ç—å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –º–∞—Å–∫–µ /15.
5. **Broadcast**: 0.1.255.255 ‚Äî —à–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –¥–ª—è –¥–∞–Ω–Ω–æ–π —Å–µ—Ç–∏.
6. **HostMin**: 0.0.0.1 ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å —Ö–æ—Å—Ç–∞ –≤ —ç—Ç–æ–π —Å–µ—Ç–∏.
7. **HostMax**: 0.1.255.254 ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å —Ö–æ—Å—Ç–∞ –≤ —ç—Ç–æ–π —Å–µ—Ç–∏.
8. **Hosts/Net**: 131070 ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ —Ö–æ—Å—Ç–æ–≤ –≤ —ç—Ç–æ–π —Å–µ—Ç–∏.
9. **Dotted Binary Netmask**: 11111111.11111110.00000000.00000000 ‚Äî –º–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏ –≤ –¥–≤–æ–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

–≠—Ç–æ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –º–∞—Å–∫–∞ `/15` –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π –∏ –¥–≤–æ–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏:


–û–±—ã—á–Ω–∞—è –∑–∞–ø–∏—Å—å:
- –≠—Ç–æ —Å—Ç—Ä–æ–∫–∞, –≥–¥–µ —É–∫–∞–∑–∞–Ω–∞ Netmask: 255.254.0.0.

–î–≤–æ–∏—á–Ω–∞—è –∑–∞–ø–∏—Å—å:

- –≠—Ç–æ —Å—Ç—Ä–æ–∫–∞, –≥–¥–µ —É–∫–∞–∑–∞–Ω–∞ Dotted Binary Netmask: 11111111.11111110.00000000.00000000.







## 1.1.2.3. –ü–µ—Ä–µ–≤–æ–¥ –º–∞—Å–∫–∏  11111111.11111111.11111111.11110000 –≤ –æ–±—ã—á–Ω—É—é –∏ –ø—Ä–µ—Ñ–∏–∫—Å–Ω—É—é

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –±–∏–Ω–∞—Ä–Ω—É—é –º–∞—Å–∫—É, –∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä, `11111111.11111111.11111111.11110000`, –≤ –æ–±—ã—á–Ω—É—é –∏ –ø—Ä–µ—Ñ–∏–∫—Å–Ω—É—é –º–∞—Å–∫—É —Å –ø–æ–º–æ—â—å—é —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤.

1. **–î–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –±–∏–Ω–∞—Ä–Ω–æ–π –º–∞—Å–∫–∏ –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é (–æ–±—ã—á–Ω—É—é) –º–∞—Å–∫—É**, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `echo` –∏ —É—Ç–∏–ª–∏—Ç—É `bc` (–∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –≤—Ä—É—á–Ω—É—é).

–ü—Ä–∏–º–µ—Ä:

```bash
echo "ibase=2; 11111111" | bc
```

–î–ª—è –≤—Å–µ–π –º–∞—Å–∫–∏ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –∫–∞–∂–¥—É—é —á–∞—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ (–ø–µ—Ä–≤—É—é, –≤—Ç–æ—Ä—É—é, —Ç—Ä–µ—Ç—å—é –∏ —á–µ—Ç–≤–µ—Ä—Ç—É—é). –ú–∞—Å–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫:

- 11111111 (255)
- 11111111 (255)
- 11111111 (255)
- 11110000 (240)

–ú–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤—Å—é –±–∏–Ω–∞—Ä–Ω—É—é –º–∞—Å–∫—É –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é:

```bash
echo "ibase=2; 11111111" | bc
echo "ibase=2; 11111111" | bc
echo "ibase=2; 11111111" | bc
echo "ibase=2; 11110000" | bc
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
255
255
255
240
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–∞—Å–∫–∞ –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏ –±—É–¥–µ—Ç: **255.255.255.240**.

2. **–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ—Ñ–∏–∫—Å–Ω–æ–π –∑–∞–ø–∏—Å–∏**, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—á–Ω—ã—Ö –±–∏—Ç –≤ –º–∞—Å–∫–µ.

–ë–∏–Ω–∞—Ä–Ω–∞—è –º–∞—Å–∫–∞ `11111111.11111111.11111111.11110000` —Å–æ–¥–µ—Ä–∂–∏—Ç **28 –µ–¥–∏–Ω–∏—á–Ω—ã—Ö –±–∏—Ç**.

–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –ø—Ä–µ—Ñ–∏–∫—Å–Ω–∞—è –∑–∞–ø–∏—Å—å –±—É–¥–µ—Ç `/28`.

–ß—Ç–æ–±—ã –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –æ–±–∞ —à–∞–≥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:

```bash
#!/bin/bash
binary_mask="11111111.11111111.11111111.11110000"
octets=($(echo $binary_mask | tr '.' '\n'))  # –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —á–∞—Å—Ç–∏ –ø–æ —Ç–æ—á–∫–∞–º
for i in "${octets[@]}"; do
  echo $((2#$i))  # –ü–µ—Ä–µ–≤–æ–¥–∏–º –∫–∞–∂–¥—É—é —á–∞—Å—Ç—å –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–µ —á–∏—Å–ª–æ
done
```
![part1](./img/1.2.3.1.script_rerevoda_binar.png)

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–¥–µ–ª—è–µ—Ç –º–∞—Å–∫—É –Ω–∞ –æ–∫—Ç–µ—Ç—ã, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∫–∞–∂–¥—ã–π –æ–∫—Ç–µ—Ç –≤ –¥–µ—Å—è—Ç–∏—á–Ω—É—é —Ñ–æ—Ä–º—É.

## –ò—Ç–æ–≥:
- **–û–±—ã—á–Ω–∞—è –º–∞—Å–∫–∞**: `255.255.255.240`
- **–ü—Ä–µ—Ñ–∏–∫—Å–Ω–∞—è –º–∞—Å–∫–∞**: `/28`

- ![part1](./img/1.2.3.2.res_script.png)




–î–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–≤–æ–∏—á–Ω–æ–π –º–∞—Å–∫–∏ `11111111.11111111.11111111.11110000` –≤ –æ–±—ã—á–Ω—É—é –¥–µ—Å—è—Ç–∏—á–Ω—É—é –∏ –ø—Ä–µ—Ñ–∏–∫—Å–Ω—É—é –∑–∞–ø–∏—Å—å —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã, —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —É—Ç–∏–ª–∏—Ç–æ–π `ipcalc`. –û–¥–Ω–∞–∫–æ, `ipcalc` –æ–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–µ—Å—è—Ç–∏—á–Ω–æ–π –∑–∞–ø–∏—Å—å—é –º–∞—Å–∫–∏ –∏–ª–∏ –ø—Ä–µ—Ñ–∏–∫—Å–æ–º, –∞ –Ω–µ —Å –¥–≤–æ–∏—á–Ω–æ–π. –ß—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ –∑–∞–¥–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é, –¥–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:

1. **–ü–µ—Ä–µ–≤–æ–¥ –≤ –æ–±—ã—á–Ω—É—é (–¥–µ—Å—è—Ç–∏—á–Ω—É—é) –∑–∞–ø–∏—Å—å:**
   - `11111111` –≤ –¥–≤–æ–∏—á–Ω–æ–π ‚Äî —ç—Ç–æ `255` –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π.
   - `11111111` –≤ –¥–≤–æ–∏—á–Ω–æ–π ‚Äî —ç—Ç–æ `255` –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π.
   - `11111111` –≤ –¥–≤–æ–∏—á–Ω–æ–π ‚Äî —ç—Ç–æ `255` –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π.
   - `11110000` –≤ –¥–≤–æ–∏—á–Ω–æ–π ‚Äî —ç—Ç–æ `240` –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π.

   –ò—Ç–∞–∫, –º–∞—Å–∫–∞ `11111111.11111111.11111111.11110000` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç `255.255.255.240`.

2. **–ü–µ—Ä–µ–≤–æ–¥ –≤ –ø—Ä–µ—Ñ–∏–∫—Å–Ω—É—é –∑–∞–ø–∏—Å—å:**
   - –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—Ü –≤ –¥–≤–æ–∏—á–Ω–æ–π –º–∞—Å–∫–µ: `28` –µ–¥–∏–Ω–∏—Ü.
   –ü—Ä–µ—Ñ–∏–∫—Å–Ω–∞—è –∑–∞–ø–∏—Å—å –±—É–¥–µ—Ç `/28`.


–¢–µ–ø–µ—Ä—å, –∫–∞–∫ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é `ipcalc`:

- ![part1](./img/1.2.3.not_binary.png)

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Å–∫–∏:**

   –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ipcalc` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å–µ—Ç–∏ —Å –º–∞—Å–∫–æ–π `/28` –∏ –æ–Ω–∞ –ø–æ–∫–∞–∂–µ—Ç –Ω–∞–º –¥–µ—Å—è—Ç–∏—á–Ω—É—é –º–∞—Å–∫—É:

   ```bash
   ipcalc 192.168.0.0/28
   ```

   –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç –Ω–∞–º –º–∞—Å–∫—É `255.255.255.240`.

2. **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–≤–æ–∏—á–Ω–æ–π –º–∞—Å–∫–∏ –≤—Ä—É—á–Ω—É—é:**

   –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

   - –û–±—ã—á–Ω–∞—è –∑–∞–ø–∏—Å—å: `255.255.255.240`
   - –ü—Ä–µ—Ñ–∏–∫—Å: `/28`

–ù–µ—Ç –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä–∞—è –±—ã –Ω–∞–ø—Ä—è–º—É—é –ø—Ä–∏–Ω—è–ª–∞ –¥–≤–æ–∏—á–Ω—É—é –º–∞—Å–∫—É –∏ –≤–µ—Ä–Ω—É–ª–∞ –¥–µ—Å—è—Ç–∏—á–Ω—É—é –∏ –ø—Ä–µ—Ñ–∏–∫—Å–Ω—É—é –∑–∞–ø–∏—Å–∏. –ù—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –º–∞—Å–∫—É –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Å—è—Ç–∏—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤–≤–æ–¥–∞ –≤ `ipcalc`.











## 1.1.3.1. –û–ø—Ä–µ–¥–µ–ª–∏–ª –∏ –∑–∞–ø–∏—Å–∞–ª –≤ –æ—Ç—á—ë—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç –≤ —Å–µ—Ç–∏ *12.167.38.4* –ø—Ä–∏ –º–∞—Å–∫–∞—Ö:

## 1.3.1 */8*, –∫–æ–º–∞–Ω–¥–∞ - ipcalc 12.167.38.4/8
  - 12.0.0.1 - min
  - 12.255.255.254 - max

![part1](./img/1.1.1.3.MIN_MAX_1.png)





## 1.1.3.2 –û–ø—Ä–µ–¥–µ–ª–∏–ª –∏ –∑–∞–ø–∏—Å–∞–ª –≤ –æ—Ç—á—ë—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç –≤ —Å–µ—Ç–∏ –ø—Ä–∏ –º–∞—Å–∫–µ 11111111.11111111.00000000.00000000 (—á—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ 255.255.0.0 –∏–ª–∏ 16  )

## –∫–æ–º–∞–Ω–¥–∞ - ipcalc 12.167.38.4    255.255.0.0

![part1](./img/1.1.1.4.MIN_MAX_2.png)

## –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç—ã:
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç:** `12.167.0.1`
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç:** `12.167.255.254`





## 1.1.3.3 –û–ø—Ä–µ–¥–µ–ª–∏–ª –∏ –∑–∞–ø–∏—Å–∞–ª –≤ –æ—Ç—á—ë—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç –≤ —Å–µ—Ç–∏ –ø—Ä–∏ –º–∞—Å–∫–µ  /4:

## –∫–æ–º–∞–Ω–¥–∞ - ipcalc 12.167.38.4/4


![part1](./img/1.1.3.3.MIN_MAX_3.png)
- */4*
  - 0.0.0.1 - min
  - 15.255.255.254 - max








## 1.2. localhost.

## 1.2.1.1. localhost. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –æ—Ç—á—ë—Ç, –º–æ–∂–Ω–æ –ª–∏ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é, —Ä–∞–±–æ—Ç–∞—é—â–µ–º—É –Ω–∞ localhost, —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ IP:

> –ê–¥—Ä–µ—Å–∞ –Ω–∞ localhost –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 127.0.0.1 - 127.255.255.254

`localhost` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π IP-–∞–¥—Ä–µ—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–µ–∫—É—â—É—é –º–∞—à–∏–Ω—É. –û–±—ã—á–Ω–æ, —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ `127.0.0.1` –∏ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Å–µ—Ç–∏ `127.0.0.0/8`. –í—Å–µ IP-–∞–¥—Ä–µ—Å–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `127.x.x.x` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è "–æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏", —Ç.–µ., –¥–ª—è —Å–≤—è–∑–∏ —Å–∞–º–æ–π —Å–∏—Å—Ç–µ–º—ã —Å —Å–æ–±–æ–π.

![part1](./img/1.2.1.1.LOCALHOST_1.png)

1. *194.34.23.100* -  –Ω–µ–ª—å–∑—è. –≠—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å, –∫–æ—Ç–æ—Ä—ã–π —Ç–∞–∫–∂–µ –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω `127.0.0.0/8`. –û–Ω –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å –ª—é–±–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, –Ω–æ –Ω–µ –º–æ–µ–º—É –∫–æ–º–ø—å—é—Ç–µ—Ä—É –≤ —Ä–∞–º–∫–∞—Ö `localhost`.




![part1](./img/1.2.1.2.LOCALHOST_2.png)

2. *127.0.0.2* - –º–æ–∂–Ω–æ




![part1](./img/1.2.1.3.LOCALHOST_3.png)

3. *127.1.0.1* - –º–æ–∂–Ω–æ




![part1](./img/1.2.1.4.LOCALHOST_4.png)

4. *128.0.0.1* - –Ω–µ–ª—å–∑—è. –≠—Ç–æ—Ç –∞–¥—Ä–µ—Å –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω `127.0.0.0/8`. –û–Ω –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥—Ä—É–≥–æ–π —Å–µ—Ç–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, `128.0.0.0/8` ‚Äî —ç—Ç–æ –¥—Ä—É–≥–∞—è —Å–µ—Ç—å, –≥–¥–µ –º–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏ —Ç–∞–∫–∂–µ `255.0.0.0`, –Ω–æ –ø–µ—Ä–≤—ã–π –æ–∫—Ç–µ—Ç –∞–¥—Ä–µ—Å–∞ ‚Äî `128`, –∞ –Ω–µ `127`.













## 1.3. –î–∏–∞–ø–∞–∑–æ–Ω—ã –∏ —Å–µ–≥–º–µ–Ω—Ç—ã —Å–µ—Ç–µ–π
## –û–ø—Ä–µ–¥–µ–ª–∏ –∏ –∑–∞–ø–∏—à–∏ –≤ –æ—Ç—á—ë—Ç:

## 1) –ö–∞–∫–∏–µ –∏–∑ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö IP –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ, –∞ –∫–∞–∫–∏–µ —Ç–æ–ª—å–∫–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —á–∞—Å—Ç–Ω—ã—Ö: 10.0.0.45, 134.43.0.2, 192.168.4.2, 172.20.250.4, 172.0.2.1, 192.172.0.1, 172.68.0.2, 172.16.255.255, 10.10.10.10, 192.169.168.1

`–ó–î–ï–°–¨ –Ø  –ü–û–ú–ï–ù–Ø–õ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –¢–ê–ö –ö–ê–ö –í–´–ù–£–ñ–î–ï–ù –ë–´–õ –í–´–ü–û–õ–ù–Ø–¢–¨ –ó–ê–î–ê–ù–ò–Ø –ù–ê –ü–ö –†–ê–ë–û–¢–û–î–ê–¢–ï–õ–Ø –ê –ù–ï –ù–ê –î–û–ú–ê–®–ù–ï–ú –ü–ö, –ü–û–≠–¢–û–ú–£ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –î–†–£–ì–û–ô`

- 10.0.0.45 ‚Äî —á–∞—Å—Ç–Ω—ã–π <br>
![part1](./img/9.0.png)


- 134.43.0.2 ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π <br>
![part1](./img/9.1.png)
   
- 192.168.4.2 ‚Äî —á–∞—Å—Ç–Ω—ã–π <br>
![part1](./img/9.2.png)

- 172.20.250.4 ‚Äî —á–∞—Å—Ç–Ω—ã–π <br>
![part1](./img/9.3.png)

- 172.0.2.1 ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π <br>
![part1](./img/9.4.png)
  
- 192.172.0.1 ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π <br>
![part1](./img/9.5.png)

- 172.68.0.2 ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π <br>
![part1](./img/9.6.png)
   
- 172.16.255.255 ‚Äî —á–∞—Å—Ç–Ω—ã–π <br>
![part1](./img/9.7.png)

- 10.10.10.10 ‚Äî —á–∞—Å—Ç–Ω—ã–π <br>
![part1](./img/9.8.png)
  
- 192.169.168.1 ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π <br>
![part1](./img/9.9.png)




## 2)  –ö–∞–∫–∏–µ –∏–∑ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö IP-–∞–¥—Ä–µ—Å–æ–≤ —à–ª—é–∑–∞ –≤–æ–∑–º–æ–∂–Ω—ã —É —Å–µ—Ç–∏ 10.10.0.0/18: 10.0.0.1, 10.10.0.2, 10.10.10.10, 10.10.100.1, 10.10.1.255

![part1](./img/10.1.png)

–î–∞, –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã `ipcalc 10.10.0.0/18` –º–æ–∂–Ω–æ —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ IP-–∞–¥—Ä–µ—Å–∞ –≤–æ–∑–º–æ–∂–Ω—ã –¥–ª—è —ç—Ç–æ–π —Å–µ—Ç–∏.


1. **10.0.0.1** ‚Äî —ç—Ç–æ –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–¥–æ **10.10.0.0**), —Ç–∞–∫ –∫–∞–∫ —Å–µ—Ç—å 10.10.0.0/18 –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å **10.10.0.0**.
2. **10.10.0.2** ‚Äî –≤–Ω—É—Ç—Ä–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–º–µ–∂–¥—É **10.10.0.1** –∏ **10.10.63.254**), —ç—Ç–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π IP-–∞–¥—Ä–µ—Å.
3. **10.10.10.10** ‚Äî –≤–Ω—É—Ç—Ä–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–º–µ–∂–¥—É **10.10.0.1** –∏ **10.10.63.254**), —ç—Ç–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π IP-–∞–¥—Ä–µ—Å.
4. **10.10.100.1** ‚Äî —ç—Ç–æ –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (—Å–µ—Ç—å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ **10.10.63.255**).
5. **10.10.1.255** ‚Äî —ç—Ç–æ –≤–Ω—É—Ç—Ä–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞, –Ω–æ —è–≤–ª—è–µ—Ç—Å—è —à–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω—ã–º –∞–¥—Ä–µ—Å–æ–º –¥–ª—è —Å–µ—Ç–∏ 10.10.1.0/24, –∞ –Ω–µ –¥–ª—è 10.10.0.0/18, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∞–¥—Ä–µ—Å –¥–ª—è —Ö–æ—Å—Ç–∞ –≤ –¥–∞–Ω–Ω–æ–π —Å–µ—Ç–∏.










## Part 2. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è –º–∞—à–∏–Ω–∞–º–∏

- –ü–æ–¥–Ω—è—Ç—å –¥–≤–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã (–¥–∞–ª–µ–µ -- ws1 –∏ ws2)

> ![part2](./img/2_task/2.png)


- –° –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ip a –ø–æ—Å–º–æ—Ç—Ä–µ–ª —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏–ª —Å–∫—Ä–∏–Ω —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã.

- ws1
  > ![part2](./img/2_task/2_ip_a.png)
- ws2
  >![part2](./img/2_task/2_ip_a_2.png)


> - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ –æ–±–µ–∏—Ö –º–∞—à–∏–Ω–∞—Ö —á–µ—Ä–µ–∑ VirtualBox.
![part2](./img/2_task/2.1.png)

–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –ø–æ–∫–∞–∑–∞–Ω–æ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ VirtualBox, –Ω–∞—Ö–æ–¥—è—â–µ–µ—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ "–°–µ—Ç–∏ NAT". –í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–µ—Ç–∏ NAT, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–∏ –æ–¥–Ω–∞ –∏–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ —Å–µ—Ç–∏ NAT. –ù–∞ –ø–∞–Ω–µ–ª–∏ —Å–ª–µ–≤–∞ –≤–∏–¥–Ω—ã –¥–≤–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã ‚Äî ws1 –∏ ws2, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.




![part2](./img/2_task/2.3.png)
![part2](./img/2_task/2.2.png)


–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –ø–æ–∫–∞–∑–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã ws2  –∏ ws1 –≤ Oracle VM VirtualBox. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –≤–æ –≤–∫–ª–∞–¥–∫–µ "–°–µ—Ç—å" –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã. –ó–¥–µ—Å—å –≤–∏–¥–Ω–æ, —á—Ç–æ –ê–¥–∞–ø—Ç–µ—Ä 1 –ø–æ–¥–∫–ª—é—á–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–µ—Ç—å" (Internal Network). –¢–∞–∫–∂–µ —É–∫–∞–∑–∞–Ω–æ –∏–º—è —Å–µ—Ç–∏ "InternalNetwork", —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã —Å –¥—Ä—É–≥–∏–º–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –º–∞—à–∏–Ω–∞–º–∏, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –∫ —Ç–æ–π –∂–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏.

![part2](./img/2_task/2.4.png)
![part2](./img/2_task/2.5.png)



## –û–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤:

–ù–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–∫—Ä–∏–Ω—à–æ—Ç–∞—Ö –ø–æ–∫–∞–∑–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞ –¥–≤—É—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω (WS1 –∏ WS2) –≤ VirtualBox.

## –°–∫—Ä–∏–Ω—à–æ—Ç 1 (WS1):
–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ "–°–µ—Ç—å" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã WS1. 
- **–ê–¥–∞–ø—Ç–µ—Ä 2** –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏** —Å –∏–º–µ–Ω–µ–º **InternalNetwork**.
- –í–∞–∂–Ω–æ: —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –º–∞—à–∏–Ω–∞–º WS1 –∏ WS2 –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –∏—Å–ø–æ–ª—å–∑—É—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–µ—Ç—å, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

## –°–∫—Ä–∏–Ω—à–æ—Ç 2 (WS2):
–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –ø–æ–∫–∞–∑–∞–Ω—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã WS2. 
- **–ê–¥–∞–ø—Ç–µ—Ä 2** —Ç–∞–∫–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏** —Å –∏–º–µ–Ω–µ–º **InternalNetwork**, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–µ–∏–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –º–∞—à–∏–Ω–∞–º –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏.

## –¶–µ–ª—å:

–û—Ç–∫—Ä—ã–ª –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω WS1 –∏ WS2 –≤ VirtualBox –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–±–µ –º–∞—à–∏–Ω—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –º–∞—à–∏–Ω–∞–º–∏. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–µ—Ç—å –æ–±–µ—Å–ø–µ—á–∏—Ç —Å–≤—è–∑—å –º–µ–∂–¥—É WS1 –∏ WS2, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –º–∞—à–∏–Ω–∞–º–∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ç–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏ —Å –∏–º–µ–Ω–µ–º **InternalNetwork** –ø–æ–∑–≤–æ–ª—è—é—Ç WS1 –∏ WS2 –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –Ω–∞–ø—Ä—è–º—É—é, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É—á–µ–±–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ø–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.







- –û–ø–∏—Å–∞—Ç—å —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏, –Ω–∞ –æ–±–µ–∏—Ö –º–∞—à–∏–Ω–∞—Ö –∏ –∑–∞–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∞–¥—Ä–µ—Å–∞ –∏ –º–∞—Å–∫–∏: ws1 - *192.168.100.10*, –º–∞—Å–∫–∞ */16*, ws2 - *172.24.116.8*, –º–∞—Å–∫–∞ */12*
- –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–Ω—ã —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω—ë–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ *etc/netplan/00-installer-config.yaml* –¥–ª—è –∫–∞–∂–¥–æ–π –º–∞—à–∏–Ω—ã. 
- ws1 <br>
![part2](./img/2_task/2.7.png)
- ws2 <br>
![part2](./img/2_task/2.6.png)


-–í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `netplan apply` –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ —Å–µ—Ç–∏. –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–Ω —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã.

- ws1 <br>
![part2](./img/2_task/2.8.png)
- ws2 <br>
![part2](./img/2_task/2.9.png)


## –û–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏ —Ü–µ–ª–∏

**–¶–µ–ª—å:**
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ IP-–∞–¥—Ä–µ—Å–∞ –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ `enp0s8` –Ω–∞ –¥–≤—É—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö (`ws1` –∏ `ws2`) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ç–∏ –º–µ–∂–¥—É –Ω–∏–º–∏. –≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏.

**–°–∫—Ä–∏–Ω—à–æ—Ç 1 (ws2):**

–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –ø–æ–∫–∞–∑–∞–Ω —Ñ–∞–π–ª `/etc/netplan/00-installer-config.yaml` –Ω–∞ –º–∞—à–∏–Ω–µ `ws2`. –í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `enp0s8` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞ `172.24.116.8` —Å –º–∞—Å–∫–æ–π –ø–æ–¥—Å–µ—Ç–∏ `/12`.

**–°–∫—Ä–∏–Ω—à–æ—Ç 2 (ws1):**

–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –ø–æ–∫–∞–∑–∞–Ω —Ñ–∞–π–ª `/etc/netplan/00-installer-config.yaml` –Ω–∞ –º–∞—à–∏–Ω–µ `ws1`. –í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `enp0s8` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞ `192.168.100.10` —Å –º–∞—Å–∫–æ–π –ø–æ–¥—Å–µ—Ç–∏ `/16`.

## –ö–æ–º–∞–Ω–¥—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏:

1. **–û—Ç–∫—Ä—ã—Ç–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**

   –î–ª—è –º–∞—à–∏–Ω—ã `ws2`:
   ```bash
   sudo nano /etc/netplan/00-installer-config.yaml
   ```

   –î–ª—è –º–∞—à–∏–Ω—ã `ws1`:
   ```bash
   sudo nano /etc/netplan/00-installer-config.yaml
   ```

2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ñ–∞–π–ª–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ—Ç–∏:**

   –ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∑–∞–∫—Ä—ã—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä (–≤ `nano` —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –Ω–∞–∂–∞—Ç–∏–µ–º `Ctrl+S`, –∑–∞—Ç–µ–º `Enter` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –∏ `Ctrl+X` –¥–ª—è –≤—ã—Ö–æ–¥–∞).

3. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:**

   –ù–∞ –æ–±–µ–∏—Ö –º–∞—à–∏–Ω–∞—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞:
   ```bash
   sudo netplan apply
   ```




- ws1 <br>
![part2](./img/2_task/ws1_apply.png)
- ws2 <br>
![part2](./img/2_task/ws2_apply.png)





## 2.1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ –≤—Ä—É—á–Ω—É—é

 1. –î–æ–±–∞–≤—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç –æ—Ç –æ–¥–Ω–æ–π –º–∞—à–∏–Ω—ã –¥–æ –¥—Ä—É–≥–æ–π –∏ –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–æ–º–∞–Ω–¥—ã –≤–∏–¥–∞ ip r add.



 2.  –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.
- ws1 <br>
![part2](./img/2_task/ip_r_add_ws1.png)
- ws2 <br>
![part2](./img/2_task/ip_r_add_ws2.png)


–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ —Å–µ—Ç–µ–≤–æ–π –∞–¥—Ä–µ—Å, –∞ –Ω–µ –∞–¥—Ä–µ—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —É–∑–ª–∞. –í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è –æ—Ç—á—ë—Ç–∞:

1. **–°–µ—Ç–µ–≤–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è –ø–æ –º–∞—Å–∫–µ /16:**
   - –ü—Ä–∏ –º–∞—Å–∫–µ /16 —Å–µ—Ç—å –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å–∞ –æ—Ç 192.168.0.0 –¥–æ 192.168.255.255.
   - –°–µ—Ç–µ–≤–æ–π –∞–¥—Ä–µ—Å ‚Äì —ç—Ç–æ –ø–µ—Ä–≤—ã–π –∞–¥—Ä–µ—Å –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ 192.168.0.0), –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É–∂–∏—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –≤—Å–µ–π —Å–µ—Ç–∏.

2. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞:**
   - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã, —á—Ç–æ –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é —Å–µ—Ç—å, –¥–æ–ª–∂–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω—ã–π —à–ª—é–∑.
   - –ö–æ–º–∞–Ω–¥–∞ `sudo ip route add 192.168.0.0/16 via 172.24.116.8` —Å–æ–æ–±—â–∞–µ—Ç —Å–∏—Å—Ç–µ–º–µ, —á—Ç–æ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ª—é–±–æ–º—É —É–∑–ª—É –≤ —Å–µ—Ç–∏ 192.168.0.0/16 (—Ç–æ –µ—Å—Ç—å –¥–ª—è –≤—Å–µ—Ö –∞–¥—Ä–µ—Å–æ–≤ –æ—Ç 192.168.0.0 –¥–æ 192.168.255.255) –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–ª—é–∑ 172.24.116.8.

3. **–ü–æ—á–µ–º—É –Ω–µ 192.168.100.10/16:**
   - –ê–¥—Ä–µ—Å 192.168.100.10 —è–≤–ª—è–µ—Ç—Å—è –∞–¥—Ä–µ—Å–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞, –∞ –Ω–µ —Å–µ—Ç–µ–≤—ã–º –∞–¥—Ä–µ—Å–æ–º.
   - –ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å 192.168.100.10/16, —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –æ–∂–∏–¥–∞—Ç—å, —á—Ç–æ 192.168.100.10 ‚Äì —ç—Ç–æ –Ω–∞—á–∞–ª–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Å–µ—Ç–∏, —á—Ç–æ –Ω–µ–≤–µ—Ä–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –¥–ª—è —Å–µ—Ç–∏ —Å –º–∞—Å–∫–æ–π /16 –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º —Å–µ—Ç–µ–≤—ã–º –∞–¥—Ä–µ—Å–æ–º —è–≤–ª—è–µ—Ç—Å—è 192.168.0.0.
   - –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ 192.168.100.10/16 –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ—à–∏–±–∫–µ, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Å–µ—Ç–µ–≤–æ–º—É –∞–¥—Ä–µ—Å—É –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–π –º–∞—Å–∫–∏.

**–í—ã–≤–æ–¥:**  
–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Å–µ—Ç–µ–≤–æ–π –∞–¥—Ä–µ—Å 192.168.0.0/16, —á—Ç–æ–±—ã –æ—Ö–≤–∞—Ç–∏—Ç—å –≤—Å—é —Å–µ—Ç—å, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å —É–∑–ª–∞. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ç—Ä–∞—Ñ–∏–∫ –¥–ª—è –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–µ—Ç–∏ –±—É–¥–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ –Ω—É–∂–Ω—ã–π —à–ª—é–∑ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —á–µ—Ä–µ–∑ 172.24.116.8).


 3. –ü—Ä–æ–ø–∏–Ω–≥—É–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏.
- ws1 <br>
![part2](./img/2_task/ping_ip_r_ws1.png)
- ws2 <br>
![part2](./img/2_task/ping_ip_r_ws2.png)







## 2.2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –º–∞—à–∏–Ω—ã.

2. –î–æ–±–∞–≤—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç –æ—Ç –æ–¥–Ω–æ–π –º–∞—à–∏–Ω—ã –¥–æ –¥—Ä—É–≥–æ–π —Å –ø–æ–º–æ—â—å—é —Ñ–∞–π–ª–∞ /etc/netplan/00-installer-config.yaml.

3. –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω—ë–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ /etc/netplan/00-installer-config.yaml.
![part2](./img/2_task/ws2_ststick_rout_adress.png)
![part2](./img/2_task/ws1_ststick_rout_adress.png)


4. –ü—Ä–æ–ø–∏–Ω–≥—É–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏.

5. –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã.
- ws1 <br>
![part2](./img/2_task/ws1_ping_statick_route.png)
- ws2 <br>
![part2](./img/2_task/ws2_ping_statick_route.png)










## Part 3. –£—Ç–∏–ª–∏—Ç–∞ iperf3
## **3.1. –ü–µ—Ä–µ–≤–æ–¥ –µ–¥–∏–Ω–∏—Ü —Å–∫–æ—Ä–æ—Å—Ç–∏**

1. **8 Mbps** –≤ **MB/s**  **= 1¬†MB/s**
2. **100 MB/s** –≤ **Kbps**  **= 800000¬†Kbps**
3. **1 Gbps** –≤ **Mbps**  **= 1000¬†Mbps**

- ![part2](./img/3_task/math_of_speed.png)

---

## **3.2. –ò–∑–º–µ—Ä–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å iperf3**

## **1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ iperf3 (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)**
–ù–∞ –æ–±–µ–∏—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö `ws1` –∏ `ws2` —É—Å—Ç–∞–Ω–æ–≤–∏ —É—Ç–∏–ª–∏—Ç—É iperf3:
```bash
sudo apt update && sudo apt install -y iperf3
```


- –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–Ω—ã —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.
>
> - ws1
>
 `iperf -s`
 
- ![](./img/3_task/iperf3_ws1.png)

> - ws2

>   `iperf -c 192.168.100.10`

- ![](./img/3_task/iperf_ws2.png)







## 4.1. –£—Ç–∏–ª–∏—Ç–∞ iptables


–°–æ–∑–¥–∞–π —Ñ–∞–π–ª /etc/firewall.sh, –∏–º–∏—Ç–∏—Ä—É—é—â–∏–π —Ñ–∞–π—Ä–≤–æ–ª, –Ω–∞ ws1 –∏ ws2:

#!/bin/sh

## –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª –≤ —Ç–∞–±–ª–∏—Ü–µ ¬´filter¬ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
iptables -F
iptables -X



–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª –ø–æ–¥—Ä—è–¥ —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞:

1) –ù–∞ ws1 –ø—Ä–∏–º–µ–Ω–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é, –∫–æ–≥–¥–∞ –≤ –Ω–∞—á–∞–ª–µ –ø–∏—à–µ—Ç—Å—è –∑–∞–ø—Ä–µ—â–∞—é—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ, –∞ –≤ –∫–æ–Ω—Ü–µ –ø–∏—à–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–∞—é—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ (—ç—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –ø—É–Ω–∫—Ç–æ–≤ 4 –∏ 5).

2) –ù–∞ ws2 –ø—Ä–∏–º–µ–Ω–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é, –∫–æ–≥–¥–∞ –≤ –Ω–∞—á–∞–ª–µ –ø–∏—à–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–∞—é—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ, –∞ –≤ –∫–æ–Ω—Ü–µ –ø–∏—à–µ—Ç—Å—è –∑–∞–ø—Ä–µ—â–∞—é—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ (—ç—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –ø—É–Ω–∫—Ç–æ–≤ 4 –∏ 5).

3) –û—Ç–∫—Ä–æ–π –Ω–∞ –º–∞—à–∏–Ω–∞—Ö –¥–æ—Å—Ç—É–ø –¥–ª—è –ø–æ—Ä—Ç–∞ 22 (ssh) –∏ –ø–æ—Ä—Ç–∞ 80 (http).

4) –ó–∞–ø—Ä–µ—Ç–∏ echo reply (–º–∞—à–∏–Ω–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ ¬´–ø–∏–Ω–≥–æ–≤–∞—Ç—å—Å—è¬ª, —Ç. –µ. –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ OUTPUT).

5) –†–∞–∑—Ä–µ—à–∏ echo reply (–º–∞—à–∏–Ω–∞ –¥–æ–ª–∂–Ω–∞ ¬´–ø–∏–Ω–≥–æ–≤–∞—Ç—å—Å—è¬ª).

–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω—ã —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞ /etc/firewall –¥–ª—è –∫–∞–∂–¥–æ–π –º–∞—à–∏–Ω—ã.


> ![](./img/4_task/firewall_ws1.png)

> ![](./img/4_task/firewall_ws2.png)



---

–ó–∞–ø—É—Å—Ç–∏ —Ñ–∞–π–ª—ã –Ω–∞ –æ–±–µ–∏—Ö –º–∞—à–∏–Ω–∞—Ö –∫–æ–º–∞–Ω–¥–∞–º–∏ chmod +x /etc/firewall.sh –∏ /etc/firewall.sh.

> ![](./img/4_task/sudo_chmod_firewall_ws1.png)

> ![](./img/4_task/sudo_chmod_firewall_ws2.png)

–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω—ã —Å –∑–∞–ø—É—Å–∫–æ–º –æ–±–æ–∏—Ö —Ñ–∞–π–ª–æ–≤.
–í –æ—Ç—á—ë—Ç–µ –æ–ø–∏—à–∏ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏, –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–º–∏ –≤ –ø–µ—Ä–≤–æ–º –∏ –≤—Ç–æ—Ä–æ–º —Ñ–∞–π–ª–∞—Ö.




> ![](./img/4_task/sudo_firewall_ping_ws1.png)

> ![](./img/4_task/sudo_firewall_ping_ws2.png)



## **–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏**
- **ws1**: —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø—Ä–µ—â–∞–µ–º ICMP, –ø–æ—Ç–æ–º —Ä–∞–∑—Ä–µ—à–∞–µ–º (–≤ –∏—Ç–æ–≥–µ ICMP **—Ä–∞–∑—Ä–µ—à—ë–Ω**).  
- **ws2**: —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑—Ä–µ—à–∞–µ–º ICMP, –ø–æ—Ç–æ–º –∑–∞–ø—Ä–µ—â–∞–µ–º (–≤ –∏—Ç–æ–≥–µ ICMP **–∑–∞–ø—Ä–µ—â—ë–Ω**).  

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, **ws1 –ø–∏–Ω–≥—É–µ—Ç—Å—è, –∞ ws2 –Ω–µ—Ç**.






## 4.2. –£—Ç–∏–ª–∏—Ç–∞ nmap


 - –ö–æ–º–∞–Ω–¥–æ–π ping –Ω–∞–π–¥–∏ –º–∞—à–∏–Ω—É, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ ¬´–ø–∏–Ω–≥—É–µ—Ç—Å—è¬ª, –ø–æ—Å–ª–µ —á–µ–≥–æ —É—Ç–∏–ª–∏—Ç–æ–π nmap –ø–æ–∫–∞–∂–∏, —á—Ç–æ —Ö–æ—Å—Ç –º–∞—à–∏–Ω—ã –∑–∞–ø—É—â–µ–Ω.
–ü—Ä–æ–≤–µ—Ä–∫–∞: –≤ –≤—ã–≤–æ–¥–µ nmap –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–∫–∞–∑–∞–Ω–æ: Host is up.
> ![](./img/4_task/sudo_firewall_ping_ws2.png)

 - –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω—ã —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ ping –∏ nmap.


- ws1
> ![](./img/4_task/nmap_172.png)
- ws2
> ![](./img/4_task/nmap_192.png)






–°–æ—Ö—Ä–∞–Ω–∏ –¥–∞–º–ø—ã –æ–±—Ä–∞–∑–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω
P.S. –ù–∏ –≤ –∫–æ–µ–º —Å–ª—É—á–∞–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–π –¥–∞–º–ø—ã –≤ –≥–∏—Ç!


- ws1
> ![](./img/4_task/snap_ws1.png)
- ws2
> ![](./img/4_task/snap_ws1.png)


> ![](./img/4_task/Ova.png)



## Part 5. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∏

- –ü–æ–¥–Ω—è—Ç—å –ø—è—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω (3 —Ä–∞–±–æ—á–∏–µ —Å—Ç–∞–Ω—Ü–∏–∏ (ws11, ws21, ws22) –∏ 2 —Ä–æ—É—Ç–µ—Ä–∞ (r1, r2))



## 5.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥—Ä–µ—Å–æ–≤ –º–∞—à–∏–Ω

–ù–∞—Å—Ç—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–∞—à–∏–Ω –≤ etc/netplan/00-installer-config.yaml —Å–æ–≥–ª–∞—Å–Ω–æ —Å–µ—Ç–∏ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ.
> ![](./img/5_task/r1.png)
> ![](./img/5_task/r2.png)
> ![](./img/5_task/ws11.png)
> ![](./img/5_task/ws21.png)
> ![](./img/5_task/ws22.png)

- –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω—ã —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞ etc/netplan/00-installer-config.yaml –¥–ª—è –∫–∞–∂–¥–æ–π –º–∞—à–∏–Ω—ã.


- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å —Å–µ—Ç–∏. –ï—Å–ª–∏ –æ—à–∏–±–æ–∫ –Ω–µ—Ç, –∫–æ–º–∞–Ω–¥–æ–π ip -4 a –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∞–¥—Ä–µ—Å –º–∞—à–∏–Ω—ã –∑–∞–¥–∞–Ω –≤–µ—Ä–Ω–æ.

> ![](./img/5_task/ip4a_r1.png)
> ![](./img/5_task/ip4a_r2.png)
> ![](./img/5_task/ip4a_ws11.png)
> ![](./img/5_task/ip4a_ws21.png)
> ![](./img/5_task/ip4a_ws22.png)

<br>

 - –¢–∞–∫–∂–µ –ø—Ä–æ–ø–∏–Ω–≥—É–π ws22 —Å ws21. 
 - ws21
> ![](./img/5_task/ws21_Ping.png)
 - ws22
> ![](./img/5_task/ws22_ping.png)

 



- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–æ–ø–∏–Ω–≥—É–π r1 —Å ws11.

- ws11
> ![](./img/5_task/ws11_ping.png)
- r1
> ![](./img/5_task/r1_ping.png)

- –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω—ã —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.



## 5.2. –í–∫–ª—é—á–µ–Ω–∏–µ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏–∏ IP-–∞–¥—Ä–µ—Å–æ–≤

- –î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏–∏ IP –≤—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—É –Ω–∞ —Ä–æ—É—Ç–µ—Ä–∞—Ö:
- sysctl -w net.ipv4.ip_forward=1

- r1
> ![](./img/5_task/forward_r1.png)
- r2
> ![](./img/5_task/forward_r2.png)

- –ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã.

- –í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã.


–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª /etc/sysctl.conf –∏ –¥–æ–±–∞–≤—å –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É:
net.ipv4.ip_forward = 1

> ![](./img/5_task/uncomment_r1.png)
> ![](./img/5_task/uncomment_r2.png)




–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞, IP-–ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞ –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –æ—Å–Ω–æ–≤–µ.

–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω—ë–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ /etc/sysctl.conf.














## 5.3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã ip r –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —à–ª—é–∑–∞:

default via 10.10.0.1 dev eth0
10.10.0.0/18 dev eth0 proto kernel scope link src 10.10.0.2



–ù–∞—Å—Ç—Ä–æ–π –º–∞—Ä—à—Ä—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—à–ª—é–∑) –¥–ª—è —Ä–∞–±–æ—á–∏—Ö —Å—Ç–∞–Ω—Ü–∏–π. –î–ª—è —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤—å default –ø–µ—Ä–µ–¥ IP-—Ä–æ—É—Ç–µ—Ä–∞ –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.

–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞ etc/netplan/00-installer-config.yaml;

> ![](./img/5_task/via_routes_ws11.png) 
> ![](./img/5_task/via_routes_ws21.png) 
> ![](./img/5_task/via_routes_ws22.png) 


–í—ã–∑–æ–≤–∏ ip r –∏ –ø–æ–∫–∞–∂–∏, —á—Ç–æ –¥–æ–±–∞–≤–∏–ª—Å—è –º–∞—Ä—à—Ä—É—Ç –≤ —Ç–∞–±–ª–∏—Ü—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã.
> ![](./img/5_task/statick_ws11.png) 
> ![](./img/5_task/statick_ws21.png) 
> ![](./img/5_task/statick_ws22.png) 




–ü—Ä–æ–ø–∏–Ω–≥—É–π —Å ws11 —Ä–æ—É—Ç–µ—Ä r2 –∏ –ø–æ–∫–∞–∂–∏ –Ω–∞ r2, —á—Ç–æ –ø–∏–Ω–≥ –¥–æ—Ö–æ–¥–∏—Ç. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É:
tcpdump -tn -i eth0

–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.

> ![](./img/5_task/tcpdump.png) 




## 5.4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

–î–æ–±–∞–≤—å –≤ —Ä–æ—É—Ç–µ—Ä—ã r1 –∏ r2 —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π. –ü—Ä–∏–º–µ—Ä –¥–ª—è r1 –º–∞—Ä—à—Ä—É—Ç–∞ –≤ —Å–µ—Ç–∫—É 10.20.0.0/26:

## –î–æ–±–∞–≤—å –≤ –∫–æ–Ω–µ—Ü –æ–ø–∏—Å–∞–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ eth1:
```
- to: 10.20.0.0
  via: 10.100.0.12
```


–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω—ã —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω—ë–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ etc/netplan/00-installer-config.yaml –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞.


> ![](./img/5_task/sudo_netplan_r1.png) 
> ![](./img/5_task/sudo_netplan_r2.png) 


> ![](./img/5_task/apply_sudo_netplan_r1.png) 
> ![](./img/5_task/apply_sudo_netplan_r2.png) 

–í—ã–∑–æ–≤–∏ ip r –∏ –ø–æ–∫–∞–∂–∏ —Ç–∞–±–ª–∏—Ü—ã —Å –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –Ω–∞ –æ–±–æ–∏—Ö —Ä–æ—É—Ç–µ—Ä–∞—Ö. –ü—Ä–∏–º–µ—Ä —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ r1:

10.100.0.0/16 dev eth1 proto kernel scope link src 10.100.0.11
10.20.0.0/26 via 10.100.0.12 dev eth1
10.10.0.0/18 dev eth0 proto kernel scope link src 10.10.0.1


–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã.

> ![](./img/5_task/ipr_r1.png) 
> ![](./img/5_task/ipr_r2.png) 


–ó–∞–ø—É—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ ws11:
ip r list 10.10.0.0/[–º–∞—Å–∫–∞ —Å–µ—Ç–∏] –∏ ip r list 0.0.0.0/0
> ![](./img/5_task/list_ws11.png) 



–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥;
–í –æ—Ç—á—ë—Ç–µ –æ–±—ä—è—Å–Ω–∏, –ø–æ—á–µ–º—É –¥–ª—è –∞–¥—Ä–µ—Å–∞ 10.10.0.0/[–º–∞—Å–∫–∞ —Å–µ—Ç–∏] –±—ã–ª –≤—ã–±—Ä–∞–Ω –º–∞—Ä—à—Ä—É—Ç, –æ—Ç–ª–∏—á–Ω—ã–π –æ—Ç 0.0.0.0/0, —Ö–æ—Ç—è –æ–Ω –ø–æ–ø–∞–¥–∞–µ—Ç –ø–æ–¥ –º–∞—Ä—à—Ä—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
```  
–ö–æ–≥–¥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –ø–∞–∫–µ—Ç, —Å–∏—Å—Ç–µ–º–∞ —Å–Ω–∞—á–∞–ª–∞ –∏—â–µ—Ç —Å–∞–º—ã–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –µ–≥–æ –¥–æ—Å—Ç–∞–≤–∫–∏. –í —Ç–∞–±–ª–∏—Ü–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç—ã —Å –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω–æ–π (—Ç–æ—á–Ω–æ–π) –º–∞—Å–∫–æ–π –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–µ–¥ –±–æ–ª–µ–µ –æ–±—â–∏–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º–∞—Ä—à—Ä—É—Ç 10.10.0.0/18 –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω, –∫—É–¥–∞ –ø–æ–ø–∞–¥–∞–µ—Ç IP-–∞–¥—Ä–µ—Å ws11 (10.10.0.2). –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–æ–≥–¥–∞ –ø–∞–∫–µ—Ç –∞–¥—Ä–µ—Å–æ–≤–∞–Ω –≤ –¥–∏–∞–ø–∞–∑–æ–Ω 10.10.0.0/18, —Å–∏—Å—Ç–µ–º–∞ –≤–∏–¥–∏—Ç, —á—Ç–æ —ç—Ç–æ—Ç –º–∞—Ä—à—Ä—É—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –¥–ª—è —ç—Ç–æ–π –ø–æ–¥—Å–µ—Ç–∏, –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –µ–≥–æ, –¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å —Ç–∞–∫–∂–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—é –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (0.0.0.0/0).

–ú–∞—Ä—à—Ä—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –≤—Å–µ—Ö –∞–¥—Ä–µ—Å–æ–≤, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –ø–∞–∫–µ—Ç–æ–≤, –∞–¥—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã—Ö –≤ –¥–∏–∞–ø–∞–∑–æ–Ω—ã, –Ω–µ –ø–æ–∫—Ä—ã—Ç—ã–µ —É–∑–∫–∏–º –º–∞—Ä—à—Ä—É—Ç–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ –º–∞—Ä—à—Ä—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ —à–ª—é–∑ 10.10.0.1).

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è 10.10.0.0/18 –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω —Ç–æ—á–Ω–µ–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–∞–∫–µ—Ç—ã –≤ —ç—Ç—É —Å–µ—Ç—å, –∞ –º–∞—Ä—à—Ä—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤.
```











## 5.5. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤
–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —É—Ç–∏–ª–∏—Ç—ã traceroute –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —à–ª—é–∑–∞:

1 10.10.0.1 0 ms 1 ms 0 ms
2 10.100.0.12 1 ms 0 ms 1 ms
3 10.20.0.10 12 ms 1 ms 3 ms



–ó–∞–ø—É—Å—Ç–∏ –Ω–∞ r1 –∫–æ–º–∞–Ω–¥—É –¥–∞–º–ø–∞:
tcpdump -tnv -i eth0


- —É—Å—Ç–∞–Ω–æ–≤–∫–∞ traceroute
> ![](./img/5_task/ws11_traceroute_install.png) 

–ü—Ä–∏ –ø–æ–º–æ—â–∏ —É—Ç–∏–ª–∏—Ç—ã traceroute –ø–æ—Å—Ç—Ä–æ–π —Å–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤ –Ω–∞ –ø—É—Ç–∏ –æ—Ç ws11 –¥–æ ws21.


–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω—ã —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ (tcpdump –∏ traceroute);


> ![](./img/5_task/tcp_dump_r1_two.png) 
> ![](./img/5_task/tracerote_tcpdump_ws11.png)
> ![](./img/5_task/tracerote_tcpdump_r1.png) 



–í –æ—Ç—á—ë—Ç–µ, –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ –≤—ã–≤–æ–¥, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–∑ –¥–∞–º–ø–∞ –Ω–∞ r1, –æ–±—ä—è—Å–Ω–∏ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø—É—Ç–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ traceroute.




## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —É—Ç–∏–ª–∏—Ç—ã `traceroute`

1. **TTL (Time To Live)** ‚Äî —ç—Ç–æ –ø–æ–ª–µ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ IP-–ø–∞–∫–µ—Ç–∞, –∫–æ—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤ (—Ö–æ–ø–æ–≤), —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –ø–∞–∫–µ—Ç –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏, –ø—Ä–µ–∂–¥–µ —á–µ–º –±—É–¥–µ—Ç —É–Ω–∏—á—Ç–æ–∂–µ–Ω. –ö–∞–∂–¥—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –ø–æ –ø—É—Ç–∏ —É–º–µ–Ω—å—à–∞–µ—Ç TTL –Ω–∞ 1, –∏ –µ—Å–ª–∏ TTL –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 0, –ø–∞–∫–µ—Ç —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è, –∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ (Time Exceeded).

2. **–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã `traceroute`**:
   - –£—Ç–∏–ª–∏—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–∫–µ—Ç —Å **TTL=1** –∏ –æ–∂–∏–¥–∞–µ—Ç, –ø–æ–∫–∞ –ø–µ—Ä–≤—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –Ω–µ –æ—Ç–≤–µ—Ç–∏—Ç ICMP-—Å–æ–æ–±—â–µ–Ω–∏–µ–º **Time Exceeded**. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ TTL –ø–∞–∫–µ—Ç–∞ –±—ã–ª —É–º–µ–Ω—å—à–µ–Ω –¥–æ 0.
   - –ó–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –ø–∞–∫–µ—Ç —Å **TTL=2**, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ, –ø–æ–∫–∞ –ø–∞–∫–µ—Ç –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —É–∑–ª–∞. –ö–∞–∂–¥—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–∞–∫–µ—Ç, —É–º–µ–Ω—å—à–∞–µ—Ç TTL –Ω–∞ 1 –∏ –ø–æ—Å—ã–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –∏—Å–∫–ª—é—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏.
   - –ö–∞–∂–¥—ã–π —Ä–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞–∫–µ—Ç–æ–≤, –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è (–∏–∑–º–µ—Ä—è–µ—Ç—Å—è –∫–∞–∫ Round-Trip Time ‚Äî RTT).

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ UDP-–ø–∞–∫–µ—Ç–æ–≤**:
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `traceroute` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **UDP-–ø–∞–∫–µ—Ç—ã**, –∞ –Ω–µ ICMP. –≠—Ç–∏ –ø–∞–∫–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–π, –æ–±—ã—á–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π—Å—è –ø–æ—Ä—Ç. –ö–æ–≥–¥–∞ –ø–∞–∫–µ—Ç –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –æ–Ω–æ, –µ—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ ICMP-—Å–æ–æ–±—â–µ–Ω–∏–µ **Destination Unreachable**, —Ç–µ–º —Å–∞–º—ã–º –∑–∞–≤–µ—Ä—à–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É.
   
4. **–¶–µ–ª—å –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏**:
   - –ö–æ–≥–¥–∞ –ø–∞–∫–µ—Ç –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —Ö–æ—Å—Ç–∞, –∏ –µ—Å–ª–∏ –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–∞–∫–µ—Ç, –Ω–µ –æ—Ç–∫—Ä—ã—Ç, —Ü–µ–ª–µ–≤–æ–π —Ö–æ—Å—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ICMP-—Å–æ–æ–±—â–µ–Ω–∏–µ "Destination Unreachable". –≠—Ç–æ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏, —Ç–∞–∫ –∫–∞–∫ –ø—É—Ç—å –¥–æ —Ü–µ–ª–∏ –Ω–∞–π–¥–µ–Ω.

#### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤ –≤—ã–≤–æ–¥–µ `tcpdump`:

–í –≤—ã–≤–æ–¥–µ –¥–∞–º–ø–∞ `tcpdump` –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –ø–∞–∫–µ—Ç—ã, –ø—Ä–æ—Ö–æ–¥—è —á–µ—Ä–µ–∑ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã, –ø–æ–ª—É—á–∞—é—Ç –æ—Ç–≤–µ—Ç—ã –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ TTL. –ö–∞–∂–¥—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–∞–∫–µ—Ç, —É–º–µ–Ω—å—à–∞–µ—Ç TTL –Ω–∞ 1 –∏ –ø–æ—Å—ã–ª–∞–µ—Ç ICMP-—Å–æ–æ–±—â–µ–Ω–∏–µ **Time Exceeded**. –ö–æ–≥–¥–∞ –ø–∞–∫–µ—Ç –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–π –º–∞—à–∏–Ω—ã, —Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ICMP-—Å–æ–æ–±—â–µ–Ω–∏–µ **Destination Unreachable**, –µ—Å–ª–∏ –ø–æ—Ä—Ç –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∑–∞–∫—Ä—ã—Ç, —Ç–µ–º —Å–∞–º—ã–º —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É—è –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏.

–ü—Ä–∏–º–µ—Ä –∏–∑ –¥–∞–º–ø–∞ `tcpdump`:

- –í –≤—ã–≤–æ–¥–µ –≤–∏–¥–Ω–æ, –∫–∞–∫ –ø–∞–∫–µ—Ç —Å TTL=1 –ø–æ–ª—É—á–∞–µ—Ç ICMP-—Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ 10.100.0.12 (–Ω–∞–ø—Ä–∏–º–µ—Ä, **ICMP time exceeded in-transit**), —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ–º—É, —á—Ç–æ `traceroute` –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–π —Ö–æ–ø.
- –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å TTL=2, –∏ –æ—Ç–≤–µ—Ç –æ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ —Å –∞–¥—Ä–µ—Å–æ–º 10.20.0.10 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –≤—Ç–æ—Ä–æ–π —Ö–æ–ø, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

#### –°–≤–æ–¥–∫–∞:

1. **TTL**: –∫–∞–∂–¥—ã–π –º–∞—Ä—à—Ä—É—Ç —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 1 —Å –∫–∞–∂–¥—ã–º —Ö–æ–ø–æ–º.
2. **–¢–∏–ø –ø–∞–∫–µ—Ç–∞**: `traceroute` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **UDP-–ø–∞–∫–µ—Ç—ã**, –∞ –Ω–µ ICMP.
3. **–û—Ç–≤–µ—Ç—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤**: –∫–∞–∂–¥—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ICMP-—Å–æ–æ–±—â–µ–Ω–∏–µ **Time Exceeded**, –µ—Å–ª–∏ TTL –ø–∞–∫–µ—Ç–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–∞–≤–Ω—ã–º 0.
4. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏**: –∫–æ–≥–¥–∞ –ø–∞–∫–µ—Ç –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —Ö–æ—Å—Ç–∞, —Ç–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **ICMP Destination Unreachable**, –µ—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç.

–¢–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —É—Ç–∏–ª–∏—Ç–∞ `traceroute`, –∞ –≤—ã–≤–æ–¥ –∏–∑ –¥–∞–º–ø–∞ –Ω–∞ `r1` –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å, –ø–æ–∫–∞–∑—ã–≤–∞—è, –∫–∞–∫ –ø–∞–∫–µ—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã, –∞ –∑–∞—Ç–µ–º –ø–æ–ª—É—á–∞—é—Ç –æ—Ç–≤–µ—Ç—ã –æ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.




## 5.6. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ ICMP –ø—Ä–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

–ó–∞–ø—É—Å—Ç–∏ –Ω–∞ r1 –ø–µ—Ä–µ—Ö–≤–∞—Ç —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞, –ø—Ä–æ—Ö–æ–¥—è—â–µ–≥–æ —á–µ—Ä–µ–∑ eth0 —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:
tcpdump -n -i eth0 icmp

> ![](./img/5_task/r1_tcpdump_no_exist.png) 

–ü—Ä–æ–ø–∏–Ω–≥—É–π —Å ws11 –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π IP (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10.30.0.111) —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:
ping -c 1 10.30.0.111


> ![](./img/5_task/ws11_ping_no_exist_ip.png)



–í –æ—Ç—á—ë—Ç –ø–æ–º–µ—Å—Ç–∏ —Å–∫—Ä–∏–Ω —Å –≤—ã–∑–æ–≤–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.

–°–æ—Ö—Ä–∞–Ω–∏ –¥–∞–º–ø—ã –æ–±—Ä–∞–∑–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω.
P.S. –ù–∏ –≤ –∫–æ–µ–º —Å–ª—É—á–∞–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–π –¥–∞–º–ø—ã –≤ –≥–∏—Ç!

> ![](./img/5_task/dr1.png) 
> ![](./img/5_task/d_r2.png) 
> ![](./img/5_task/d_ws11.png) 
> ![](./img/5_task/d_ws21.png) 
> ![](./img/5_task/d_ws22.png) 


















## Part 6. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ IP —Å –ø–æ–º–æ—â—å—é DHCP

- –°–ª–µ–¥—É—é—â–∏–º –Ω–∞—à–∏–º —à–∞–≥–æ–º –±—É–¥–µ—Ç –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å–æ —Å–ª—É–∂–±–æ–π DHCP, –∫–æ—Ç–æ—Ä—É—é —Ç—ã —É–∂–µ –∑–Ω–∞–µ—à—å.
== –ó–∞–¥–∞–Ω–∏–µ ==
–í –¥–∞–Ω–Ω–æ–º –∑–∞–¥–∞–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã –∏–∑ –ß–∞—Å—Ç–∏ 5.

–î–ª—è r2 –Ω–∞—Å—Ç—Ä–æ–π –≤ —Ñ–∞–π–ª–µ /etc/dhcp/dhcpd.conf –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–ª—É–∂–±—ã DHCP:

1) –£–∫–∞–∂–∏ –∞–¥—Ä–µ—Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, DNS-—Å–µ—Ä–≤–µ—Ä –∏ –∞–¥—Ä–µ—Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏. –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è r2:

subnet 10.100.0.0 netmask 255.255.0.0 {}

subnet 10.20.0.0 netmask 255.255.255.192
{
    range 10.20.0.2 10.20.0.50;
    option routers 10.20.0.1;
    option domain-name-servers 10.20.0.1;
}



## 6.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª—É–∂–±—ã DHCP –Ω–∞ r2
–£—Ç–∏–ª–∏—Ç–∞ isc-dhcp-server –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞,  —Ñ–∞–π–ª–∞ /etc/dhcp/dhcpd.conf –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –Ω—É–∂–Ω–æ–º –≤–∏–¥–µ. –°–æ–æ—Ç–≤—Ç–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º DHCP —Å–Ω–∞—á–∞–ª–∞ –Ω–∞–¥–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç—É —É—Ç–∏–ª–∏—Ç—É. –ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –ø–æ–∫–∞–∑–∞–Ω–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ú–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —á—Ç–æ —É—Ç–∏–ª–∏—Ç–∞ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.

> ![](./img/6_task/r2_dhcp_install.png) 

- —É—Ç–∏–ª–∏—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞


–§–∞–π–ª dhcpd.conf –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

> ![](./img/6_task/dhcpd-conf_r2.png) 

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã r2  –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ —Ñ–∞–π–ª–µ /etc/dhcp/dhcpd.conf –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–ª—É–∂–±—ã DHCP. –£–∫–∞–∑—ã–≤–∞–µ–º –∞–¥—Ä–µ—Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é, DNS-—Å–µ—Ä–≤–µ—Ä –∏ –∞–¥—Ä–µ—Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏.
–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª /etc/dhcp/dhcpd.conf 

```
sudo nano /etc/dhcp/dhcpd.conf
```

> ![](./img/6_task/change_dhcp-conf_r2.png) 




–ù—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å /etc/resolv.conf(—Å–æ–¥–µ—Ä–∂–∏—Ç –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–º–µ–Ω, –∫ –∫–æ—Ç–æ—Ä—ã–º –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –¥–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞) –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º nameserver 8.8.8.8
```
sudo nano /etc/resolv.conf
```

![alt text](./img/6_task/resolv_conf_no_reduction_r2.png)

- –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π 

![alt text](./img/6_task/8.8.8.8_resolv_conf_r2.png) 



–ü–µ—Ä–µ–∑–∞–ø–∞—É—Å—Ç–∏–º —Å–ª—É–∂–±—É DHCP
```
systemctl restart isc-dhcp-server
```

![alt text](./img/6_task/reboot_dhcp_r2.png) 


–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã

```
sudo systemctl status isc-dhcp-server
```

![alt text](./img/6_task/status_dhcp.png)


–ü–æ–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—à–∏–Ω ws21 –∏ ws22 –≤ netplan –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å  DHCP –∞–∫—Ç–∏–≤–Ω—ã–º. –í–≤–µ–¥—ë–º –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –∫–∞–∂–¥–æ–π –∏–∑ –º–∞—à–∏–Ω:

```
sudo nano /etc/netplan/00-installer-config.yaml

sudo netplan apply
```


![alt text](./img/6_task/ws21_ws21_netplan_apply.png) 
![alt text](./img/6_task/ws22_config_netplan_dhcp.png) 
![alt text](./img/6_task/ws21_config_netplan_dhcp.png)




–°—Ç–∞–≤–∏–º –º–∞—à–∏–Ω—É ws21 –Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É:
![alt text](img/6_task/reboot_ws21.png) 









–°–º–æ—Ç—Ä–∏–º –ø—Ä–∏—Å–≤–æ–µ–Ω–Ω—ã–µ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω ws1 ws2  ip-–∞–¥—Ä–µ—Å–∞:

![alt text](img/6_task/ws21_ip.png)

![alt text](img/6_task/ws22_ip.png) 



- –ü–∏–Ω–≥—É–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–∞—à–∏–Ω—ã ws22 —Å ws21

![alt text](img/6_task/ping_ws22_with_ws21.png)









 
## 6.2 –£–∫–∞–∑–∞—Ç—å MAC-–∞–¥—Ä–µ—Å–∞
 **6.2 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ MAC-–∞–¥—Ä–µ—Å–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DHCP**

üìÑ **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Netplan –Ω–∞ ws11**  
–í —Ñ–∞–π–ª `/etc/netplan/00-installer-config.yaml` –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `macaddress: 10:10:10:10:10:BA` –∏ –≤–∫–ª—é—á–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `dhcp4: true` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è IP-–∞–¥—Ä–µ—Å–∞ –ø–æ DHCP.  
–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–º–∞–Ω–¥–æ–π `sudo netplan apply` –º–∞—à–∏–Ω–∞ –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä—É—á–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è MAC-–∞–¥—Ä–µ—Å–∞ –≤ VirtualBox.
```
sudo nano /etc/netplan/00-installer-config.yaml
sudo netplan apply
```
![alt text](img/6_task/ws11_net_plan_apply.png) 


üñ•Ô∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ MAC-–∞–¥—Ä–µ—Å–∞ –≤ VirtualBox**  
–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã `ws11` –≤—Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω MAC-–∞–¥—Ä–µ—Å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–∞–¥–∞–Ω–Ω–æ–º—É –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Netplan. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã DHCP-—Å–µ—Ä–≤–µ—Ä –º–æ–≥ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –º–∞—à–∏–Ω—É –∏ –≤—ã–¥–∞—Ç—å –µ–π –Ω—É–∂–Ω—ã–π IP-–∞–¥—Ä–µ—Å.

–í—ã–∫–ª—é—á–∞–µ–º –º–∞—à–∏–Ω—É ws11
```
 sudo shutdown -h now
```
–ó–∞—Ö–æ–¥–∏–º –≤ –º–µ–Ω–µ–¥–∂–µ—Ä –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω VirtualBox –∏ —Ç–∞–º –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º ws11 MAC-–∞–¥—Ä–µ—Å
![alt text](img/6_task/MANAGER_WS11.png) 





üì¶ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ DHCP-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ r1**  
–ù–∞ r1 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `isc-dhcp-server`. –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ `/etc/dhcp/dhcpd.conf` –ø—Ä–æ–ø–∏—Å–∞–Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ IP-–∞–¥—Ä–µ—Å–∞ –∫ MAC-–∞–¥—Ä–µ—Å—É `ws11`. –¢–∞–∫–∂–µ —É–∫–∞–∑–∞–Ω —à–ª—é–∑ –∏ DNS-—Å–µ—Ä–≤–µ—Ä.
![alt text](img/6_task/dhcp_server_install_r1.png)
![alt text](img/6_task/r1_dhcp_conf.png) 

üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS —á–µ—Ä–µ–∑ resolv.conf**  
–§–∞–π–ª `/etc/resolv.conf` –Ω–∞ r1 –æ–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ DNS-—Å–µ—Ä–≤–µ—Ä–∞, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º—ë–Ω –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö.

![alt text](img/6_task/r1_resolv_conf.png) 


üöÄ **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª—É–∂–±—ã DHCP**  
 - –ü–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∞ —Å–ª—É–∂–±–∞ DHCP (`systemctl restart isc-dhcp-server`) –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω –µ—ë —Å—Ç–∞—Ç—É—Å, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ —Å–µ—Ä–≤–∏—Å–∞.

![alt text](img/6_task/r1_systemctl_restart_isc-dhcp-server.png) 
![alt text](img/6_task/r1_stasus_isc-dhcp-server.png)


üì° –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
–ú–∞—à–∏–Ω–µ ws11 –Ω–∞–∑–Ω–∞—á–µ–Ω IP 10.10.0.4, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π ip a. –í—ã–ø–æ–ª–Ω–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (ping) –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å ws22 –Ω–∞ ws11) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ —Å–µ—Ç–∏.

![alt text](img/6_task/ip_a_ws11.png) 
![alt text](img/6_task/ws11_ping_-c_5_10.10.0.4.png) 





## **6.3 –†–∞–±–æ—Ç–∞ —Å IP-–∞–¥—Ä–µ—Å–∞–º–∏ —á–µ—Ä–µ–∑ dhclient**

üîç **–ê–Ω–∞–ª–∏–∑ IP-–∞–¥—Ä–µ—Å–∞ –¥–æ –∑–∞–ø—Ä–æ—Å–∞**  
 - –ù–∞ –º–∞—à–∏–Ω–µ `ws21` –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω —Ç–µ–∫—É—â–∏–π IP-–∞–¥—Ä–µ—Å –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã `dhclient`, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞—Ä–µ–Ω–¥—ã.

![alt text](img/6_task/ip_a_ws21.png)


üì• **–ó–∞–ø—Ä–æ—Å –Ω–æ–≤–æ–≥–æ IP —á–µ—Ä–µ–∑ dhclient**  
–° –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `sudo dhclient -v` –Ω–∞ `ws21` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å IP-–∞–¥—Ä–µ—Å–∞ –æ—Ç DHCP-—Å–µ—Ä–≤–µ—Ä–∞. –ö–ª—é—á `-v` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å–ª–µ–¥–∏—Ç—å –≤—Å–µ —ç—Ç–∞–ø—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.



![alt text](img/6_task/ws21_sudo_dhclient.png) 

üì§ **–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–∞ (release)**  
–í—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `sudo dhclient -r` –¥–ª—è —è–≤–Ω–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞, –ø–æ—Å–ª–µ —á–µ–≥–æ –∞–¥—Ä–µ—Å —Å–Ω–∏–º–∞–µ—Ç—Å—è —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.



![alt text](img/6_task/ws21_sudo_dhclient_-r.png) 


üéØ **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É**  
–í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –Ω–∞ –º–∞—à–∏–Ω–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã `dhclient` –∏ `dhclient -r`, —É–∫–∞–∑–∞–≤ –Ω—É–∂–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä: `sudo dhclient -r eth0`, `sudo dhclient eth0`.

üîÑ **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ IP-–∞–¥—Ä–µ—Å–∞**  
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥–æ–π `ip a`, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–¥—Ä–µ—Å–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã DHCP.

---

**–ò—Ç–æ–≥ –ø–æ –∑–∞–¥–∞–Ω–∏—é (—á–∞—Å—Ç—å 6)**

üìå –í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –±—ã–ª–∏ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω—ã –∫–ª—é—á–µ–≤—ã–µ –æ–ø—Ü–∏–∏ DHCP-–ø—Ä–æ—Ç–æ–∫–æ–ª–∞:  
- `option routers` ‚Äî –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —à–ª—é–∑–∞;  
- `option domain-name-servers` ‚Äî –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è DNS-—Å–µ—Ä–≤–µ—Ä–æ–≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º —Å–∏—Å—Ç–µ–º–∞–º.

üì¶ –§–∏–Ω–∞–ª—å–Ω—ã–π —à–∞–≥ ‚Äî **—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–º–ø–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω**, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ä–∞–±–æ—á—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –≤ –±—É–¥—É—â–µ–º –∏–ª–∏ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ.



![alt text](img/6_task/r2_snap.png) 
![alt text](img/6_task/ws11_snap.png) 
![alt text](img/6_task/ws21_snap.png) 
![alt text](img/6_task/ws22_snap.png)
![alt text](img/6_task/r1_snap.png)
































## Part 7. NAT



##  7.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Apache2 –Ω–∞ –º–∞—à–∏–Ω—ã r1, r2 –∏ ws22
üí¨ *–ü–æ–∫–∞–∑–∞–Ω –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ Apache2 –Ω–∞ –≤—Å–µ —Ç—Ä–∏ –º–∞—à–∏–Ω—ã, —É—á–∞—Å—Ç–≤—É—é—â–∏–µ –≤ —Å—Ö–µ–º–µ. –ü—Ä–∏ —ç—Ç–æ–º –±—ã–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã `apt update`, `apt upgrade -y` –∏ `apt install apache2`, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –ø–∞–∫–µ—Ç–æ–≤ –∏ —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–µ—Ä–∞.*

![text](img/7_task/apache_ws22_install.png) 
![text](img/7_task/apache_r2_install.png) 
![text](img/7_task/apache_r1_install.png) 
---

## 7.2. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ ports.conf –Ω–∞ ws22 –∏ r1
üí¨ *–í —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `ports.conf` –∏–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ `Listen 80` –Ω–∞ `Listen 0.0.0.0:80`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç Apache –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –ª—é–±—ã—Ö IP-–∞–¥—Ä–µ—Å–æ–≤, –¥–µ–ª–∞—è –µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–∑–≤–Ω–µ.*

![text](img/7_task/r1_apache_config_0000-80.png) 
![text](img/7_task/ws22_apache_config_0000-80.png)
---

## 7.3. –ó–∞–ø—É—Å–∫ Apache-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ ws22 –∏ r1
üí¨ *–ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã Apache —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã ` apache2 start`. –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞.*

![alt text](img/7_task/ws22_apache_start_status.png) 
![alt text](img/7_task/r1_apache_start_status.png)
---

##  7.4. –û—á–∏—Å—Ç–∫–∞ iptables –Ω–∞ r2 –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
üí¨ *–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –ø–æ–∫–∞–∑–∞–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª iptables –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `FORWARD DROP`, –∫–æ—Ç–æ—Ä–∞—è –±–ª–æ–∫–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ–º—ã–π —Ç—Ä–∞—Ñ–∏–∫ –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –¥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω—É–∂–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª.*

![alt text](img/7_task/r2_iptables.png) 
![alt text](img/7_task/chmod_bush.png) 
---

##  7.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ping –º–µ–∂–¥—É r1 –∏ ws22
üí¨ *–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª —Ñ–∞–µ—Ä–≤–æ–ª–∞ –ø–∏–Ω–≥ —Å r1 –Ω–∞ ws22 –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –∑–∞–ø—Ä–µ—Ç–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ r2.*

![alt text](img/7_task/c_r1_na_ws22_ping_two.png) 
![alt text](img/7_task/c_ws22_na_r1_ping.png) 
![alt text](img/7_task/c_r1_na_ws22_ping.png) 
---

##  7.6. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–∞—é—â–µ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è ICMP
üí¨ *–î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ, —Ä–∞–∑—Ä–µ—à–∞—é—â–µ–µ ICMP-—Ç—Ä–∞—Ñ–∏–∫ –≤ —Ü–µ–ø–æ—á–∫–µ FORWARD, –±–ª–∞–≥–æ–¥–∞—Ä—è —á–µ–º—É –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–º–µ–Ω–∞ ping-–ø–∞–∫–µ—Ç–∞–º–∏ –º–µ–∂–¥—É r1 –∏ ws22.*

![alt text](img/7_task/–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞_–∏_–∑–∞–ø—É—Å–∫_ping_go_netplan_config_r2.png)
![alt text](img/7_task/ping_go_netplan_config_r2.png) 
---

##  7.7. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è ICMP
üí¨ *–ü–∏–Ω–≥ –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏ r1 –∏ ws22 —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ. –≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–∞—é—â–∏—Ö –ø—Ä–∞–≤–∏–ª –≤ iptables –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ r2.*

![alt text](img/7_task/ping_—Å_r2_na_ws22_proverka.png)
![alt text](img/7_task/ping_—Å_ws22_na_r2_proverka.png) 
---

##  7.8-7.9. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SNAT ‚Äî –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏
üí¨ *–î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ SNAT, –º–∞—Å–∫–∏—Ä—É—é—â–µ–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–∞ —Å–µ—Ç–∏ 10.20.0.0/24 –∑–∞ –≤–Ω–µ—à–Ω–∏–º IP –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ r2. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏ –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É—è –≤–Ω–µ—à–Ω–∏–π IP r2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNAT –¥–ª—è –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–æ—Ä—Ç–∞ 8080 –Ω–∞ ws22.* 

*–í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ iptables –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ DNAT: –≤—Ö–æ–¥—è—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –ø–æ—Ä—Ç 8080 r2 –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç 80 –º–∞—à–∏–Ω—ã ws22, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –¥–æ—Å—Ç—É–ø –∫ Apache-—Å–µ—Ä–≤–µ—Ä—É, —Ä–∞–∑–º–µ—â–µ–Ω–Ω–æ–º—É –≤–Ω—É—Ç—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.*

![alt text](img/7_task/–Ω–æ–≤–∞—è_–Ω–æ–≤–∞—è_–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è_–Ω–µ—Ç–ø–ª–∞–Ω_r2.png) 
![alt text](img/7_task/–Ω–æ–≤–∞—è_–Ω–æ–≤–∞—è_–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è_–Ω–µ—Ç–ø–ª–∞–Ω_–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ_r2.png) 
![alt text](img/7_task/iptables_-t_nat_-L_-n_-v_–Ω–∞_r2.png) 
---









## 7.10. –ü–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–∫–ª—é—á–∏—Ç—å —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å NAT (–µ–≥–æ –Ω–∞–ª–∏—á–∏–µ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥–æ–π ip a) –≤ VirtualBox, –µ—Å–ª–∏ –æ–Ω –≤–∫–ª—é—á–µ–Ω.

![alt text](img/7_task/–æ—Ç–∫–ª—é—á–∞–µ–º_–ù–ê–¢_–Ω–∞_r2.png) 
![alt text](img/7_task/–ø—Ä–æ–≤–µ—Ä–∫–∞_–æ—Ç–∫–ª—é—á–µ–Ω–∏—è_–ù–ê–¢_–Ω–∞_r2.png)
---



## 7.11. –ü—Ä–æ–≤–µ—Ä–∏–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ TCP –¥–ª—è SNAT: 
üí¨ *–î–ª—è —ç—Ç–æ–≥–æ —Å ws22 –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É Apache –Ω–∞ r1 –∫–æ–º–∞–Ω–¥–æ–π:
telnet [–∞–¥—Ä–µ—Å] [–ø–æ—Ä—Ç]*

![alt text](img/7_task/–ü—Ä–æ–≤–µ—Ä–∫–∞_SNAT_—Å_ws22.png) 

üí¨ *–¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä–∏–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ TCP –¥–ª—è DNAT, –¥–ª—è —ç—Ç–æ–≥–æ —Å r1 –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É Apache –Ω–∞ ws22 (–æ–±—Ä–∞—â–∞—Ç—å—Å—è –ø–æ –∞–¥—Ä–µ—Å—É r2 –∏ –ø–æ—Ä—Ç—É 8080)*

![alt text](img/7_task/–ü—Ä–æ–≤–µ—Ä–∏—Ç—å_–ø–æ–¥–º–µ–Ω—É_IP-–∞–¥—Ä–µ—Å–∞.png)
---

 



## 7.12. –ü—Ä–æ–≤–µ—Ä—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ TCP –¥–ª—è DNAT: 

üí¨ *–î–ª—è —ç—Ç–æ–≥–æ —Å r1 –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É Apache –Ω–∞ ws22 –∫–æ–º–∞–Ω–¥–æ–π telnet (–æ–±—Ä–∞—â–∞—Ç—å—Å—è –ø–æ –∞–¥—Ä–µ—Å—É r2 –∏ –ø–æ—Ä—Ç—É 8080).*

![alt text](img/7_task/–ü—Ä–æ–≤–µ—Ä–∫–∞_DNAT_—Å_r1.png) 




üí¨ *–¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä–∏–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ TCP –¥–ª—è DNAT, –¥–ª—è —ç—Ç–æ–≥–æ —Å r1 –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É Apache –Ω–∞ ws22 (–æ–±—Ä–∞—â–∞—Ç—å—Å—è –ø–æ –∞–¥—Ä–µ—Å—É r2 –∏ –ø–æ—Ä—Ç—É 8080)*

![alt text](img/7_task/–ü—Ä–æ–≤–µ—Ä—è–µ–º_—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ_–ø–æ_TCP_–¥–ª—è_DNAT.png) 
---























